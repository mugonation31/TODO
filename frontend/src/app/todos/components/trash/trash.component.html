<div class="trash-container">
  <!-- Header -->
  <div class="header">
    <div class="header-content">
      <button class="btn-back" (click)="goBackToTodos()">
        â† Back to Todos
      </button>
      <h1>ğŸ—‘ï¸ Trash</h1>
      <p class="subtitle">Deleted todos are stored here for 30 days</p>
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <p>Loading...</p>
  </div>

  <!-- Deleted Todos List -->
  <div *ngIf="!loading && deletedTodos.length > 0" class="todos-container">
    <div
      *ngFor="let todo of deletedTodos; trackBy: trackByTodoId"
      class="todo-item"
    >
      <div class="todo-content">
        <div class="todo-header">
          <h3 class="todo-title">{{ todo.title }}</h3>
          <span *ngIf="todo.priority" class="priority-badge" [class]="'priority-' + todo.priority">
            {{ todo.priority }}
          </span>
        </div>

        <p *ngIf="todo.description" class="todo-description">
          {{ todo.description }}
        </p>

        <div class="todo-meta">
          <span class="meta-item">
            ğŸ“… Due: {{ todo.due_date ? formatDate(todo.due_date) : 'No due date' }}
          </span>
          <span class="meta-item">
            ğŸ—‘ï¸ Deleted: {{ formatDate(todo.deleted_at) }}
          </span>
          <span *ngIf="todo.completed" class="meta-item completed-badge">
            âœ“ Completed
          </span>
        </div>
      </div>

      <div class="todo-actions">
        <button
          class="btn btn-restore"
          (click)="restoreTodo(todo)"
          [disabled]="loading"
          title="Restore this todo"
        >
          â†º Restore
        </button>
        <button
          class="btn btn-delete"
          (click)="permanentlyDeleteTodo(todo)"
          [disabled]="loading"
          title="Delete permanently"
        >
          âœ• Delete Forever
        </button>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && deletedTodos.length === 0" class="empty-state">
    <div class="empty-icon">ğŸ—‘ï¸</div>
    <h2>Trash is empty</h2>
    <p>Deleted todos will appear here</p>
    <button class="btn-primary" (click)="goBackToTodos()">
      Go to Todos
    </button>
  </div>
</div>
